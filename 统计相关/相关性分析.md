### 相关性分析

#### 1.皮尔逊相关系数

[Pearson相关性分析](https://mengte.online/archives/1864)

运用皮尔逊相关系数的条件:
第一，实验数据通常假设是成对的来自于正态分布的总体。因为我们在求皮尔逊相关性系数以后，通常还会用t检验之类的方法来进行皮尔逊相关性系数检验而t检验是基于数据呈正态分布的假设的。
第二，实验数据之间的差距不能太大。皮尔逊相关性系数受异常值的影响比较大。
第三，每组样本之间是独立抽样的。构造t统计量时需要用到。



**关于皮尔逊相关系数的一些误区：**

  这里的相关系数只是用来衡量两个变量  线性相关  程度的指标；  

  也就是说，你必须  **先确认这两个变量是线性相关的**  ，然后这个相关系数才能  

  告诉你他俩相关程度如何。 

总结：

（ 1 ）如果两个变量本身就是线性的关系， 那么皮尔逊相关系数绝对值大的就是相关性强，小的就是相关性弱；
（ 2 ）在不确定两个变量是什么关系的情况 下，即使算出皮尔逊相关系数，发现很大，也不能说明那两个变量线性相关，甚至不能说他们相关，我们一定要画出散点图来看才行。

 **一定要先确定为线性关系才能用皮尔逊相关系数**




#### 2、斯皮尔曼（Spearman）等级相关系数

斯皮尔曼相关系数是非参数的相关性度量，它衡量两个变量的等级（或排序）之间的关系，而不是实际的数值。这对于非正态分布的数据或者存在异常值时非常有用。斯皮尔曼相关系数的取值范围同样是从-1到1。

[Spearman相关性分析](https://mengte.online/archives/1879?pcat=1)

#### 3、典型相关性分析

典型相关分析（Canonical Correlation Analysis,  CCA）是一种多变量统计方法，用于探索两组变量之间的关系。与传统的相关分析（如皮尔逊相关系数）只考察两个变量之间的关系不同，典型相关分析可以同时考虑多个变量，寻找两组变量集之间的相关结构。

##### 基本原理
典型相关分析的目的是找到两组变量之间的最大相关性。具体来说，对于两组变量  $X$  (如  $X_{1}, X_{2}, \ldots, X_{p}  ) 和  Y  (如  Y_{1}, Y_{2}, \ldots, Y_{q}  $)，CCA试图找到一对线性组合:

$\begin{array}{l}
U=a_{1} X_{1}+a_{2} X_{2}+\ldots+a_{p} X_{p} \\
\cdot V=b_{1} Y_{1}+b_{2} Y_{2}+\ldots+b_{q} Y_{q}
\end{array}$

这样使得 UU 和 VV 的相关性（典型相关系数）最大化。

### 步骤

1. **标准化数据**：通常首先进行变量的标准化处理，确保每个变量都在相同的尺度上。
2. **计算典型相关系数**：通过最大化 $U$和 V的相关系数来确定系数$ a1,a2,...,ap和 b1,b2,...,bq$。
3. **计算多组典型变量**：可以提取多对典型变量$ U1,V1, U2,V2, ..., $分别对应第一、第二、...最大的

典型相关系数。每对典型变量对应的典型相关系数表明了这对变量间的相关强度。

1. **解释典型变量**：分析每一对典型变量，理解它们在原始变量中代表的意义。这通常涉及查看构成每个典型变量的原始变量的权重。
2. **检验统计显著性**：使用适当的统计检验（如威尔克斯Lambda测试）来评估典型相关系数的显著性。
